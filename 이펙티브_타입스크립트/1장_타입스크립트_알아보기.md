# 1장 타입스크립트 알아보기 - 진행중

- 사진이 깨지는 부분은 1장 정리후 처리 예정

# 타입스크립트와 자바스크립트의 관계

- 타입스크립트는 자바스크립트의 슈퍼셋 언어
- 모든 자바스크립트 코드는 타입스크립트에 속한다고 볼 수 있음.
- 그러나, 일부 자바스크립트만이 타입 체커를 통과함.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/6a9964a5-a4b3-478c-a26c-202e04bf6b13/3c0320e0-6312-4511-aacb-03ff6b4f4656/Untitled.png)

타입스크립트는 자바스크립트의 동작을 모델링함.

```tsx
const x = 2 + "3"; //정상
const y = "2" + 3; //정상
```

위 코드는 C, C++, Java에서는 런타임 오류 발생. 그러나 타입 스크립트의 타입 체커는 정상으로 인식.

```tsx
const a = null + 7;
const b = [] + 12;

alert("Hello", "Typescript");
```

런타임에는 문제가 없으나 타입 스크립트의 타입 체커는 에러 표시

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/6a9964a5-a4b3-478c-a26c-202e04bf6b13/34b331a3-1b9d-4d59-b545-425ae12025a1/Untitled.png)

- 타입스크립트의 타입 체크는 런타임 오류까지 잡아낼 수 없음.

```tsx
const names = ["Alice", "Bob"];
console.log(names[2].toUpperCase()); //런타임에서 배열의 크기를 벗어난 인덱스 참조.
```

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/6a9964a5-a4b3-478c-a26c-202e04bf6b13/df8d1f18-4223-4b7b-b4a1-a070124a3a2a/Untitled.png)

# 타입스크립트 설정 이해하기

- 타입스크립트는 설정(tsconfig)을 통해 타입 체크 규칙을 설정할 수 있음
- 대표적인 설정에는

  - `noImplicitAny`
    - 암묵적인 any 타입을 허용하지 않음. 기본설정 true 권장.
    - https://www.typescriptlang.org/tsconfig#noImplicitAny
  - `strictNullChecks`
    - null과 undefined가 모든 타입에 할당될 수 있는지 여부를 체크. 기본설정 true 권장

- `noImplicitAny` 과 `strictNullChecks` 는 자바스크립트 에서 타입스크립트로 코드 마이그레이션 시 어려움을 겪게 만드는 원인 중 하나.
- 그러나 신규 타입스크립트 프로젝트를 시작한다면 기본값으로 활성화 시킬것을 권장.

# 코드 생성과 타입은 관계없음을 이해하기.

타입 스크립트 컴파일러는 아래의 두가지 역할을 수행.

1. 최신 타입스크립트/자바스크립트를 브라우저에서 동작할 수 있도록 구 버전 자바스크립트로 트랜스파일(transpile)
2. 코드의 타입 오류를 체크.

- 이 두가지 역할은 완벽히 독립적으로 수행.
- 타입 체크 에러가 코드 변환에 영향을 미치지 않음.
- 마찬가지로 자바스크립트의 실행 시점에도 타입은 영향을 주지 않음.

따라서 타입 오류가 있는 코드도 컴파일이 가능하며 실행도 가능.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/6a9964a5-a4b3-478c-a26c-202e04bf6b13/d3df8bed-d96a-4350-9ed1-eec7193310a0/Untitled.png)

- 단, 트랜스파일 과정에서 타입 체크 에러 발생시 컴파일을 하지 않으려면 `noEmitOnError` 를 설정하거나 빌드 도구에서 동일하게 설정.
- 현업에서는 보통 `noEmitOnError` 를 활성화시켜 사용함.

런타임에는 타입 체크가 불가능.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/6a9964a5-a4b3-478c-a26c-202e04bf6b13/dd53d951-c9af-4499-8392-7cc5737bac8e/Untitled.png)

- instanceof 체크는 런타임에 수행. 그러나 Rectangle은 타입이므로 런타임 시점에 아무것도 할 수 없음.
- 자바스크립트로 컴파일 되는 과정에서 삭제됨. 따라서 런타임에 `Rectangle is not defined` 에러 발생
