# 4ì¥ íƒ€ì…ì„¤ê³„

## 28. ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•˜ê¸°

- íƒ€ì…ì„ ì˜ ì„¤ê³„í•˜ë©´ ì½”ë“œëŠ” ì§ê´€ì ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆìŒ.
- ê·¸ëŸ¬ë‚˜ íƒ€ì… ì„¤ê³„ê°€ ì—‰ë§ì´ë¼ë©´ ì–´ë– í•œ ê¸°ì–µì´ë‚˜ ë¬¸ì„œë„ ë„ì›€ì´ ë˜ì§€ ì•ŠìŒ.
- íš¨ê³¼ì ì¸ íƒ€ì… ì„¤ê³„ëŠ” ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒ.
- í•´ë‹¹ ì±•í„°ì—ì„œ íƒ€ì… ì„¤ê³„ê°€ ì˜ëª»ëœ ìƒí™©ì„ ë°”ë¡œì¡ì„ ê²ƒ.

e.g: ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“ ë‹¤ê³  ê°€ì • - í˜ì´ì§€ì˜ ìƒíƒœ ì„¤ê³„

```tsx
interface State {
  pageText: string;
  isLoading: boolean;
  error?: string;
}
```

e.g : í˜ì´ì§€ë¥¼ ê·¸ë¦¬ëŠ” renderPageí•¨ìˆ˜ ì‘ì„±ì‹œ ìƒíƒœ ê°ì²´ì˜ í•„ë“œë¥¼ ì „ë¶€ ê³ ë ¤í•´ì„œ ìƒíƒœ í‘œì‹œ ë¶„ê¸°

```tsx
function renderPage(state: State) {
  if (state.error) {
    return `Error! Unable to load ${currentPage}: ${state.error}`;
  } else if (state.isLoading) {
    return `Loading ${currentPage}...`;
  }
  return `<h1>${currentPage}</h1>\n${state.pageText}`;
}
```

- í•´ë‹¹ ì½”ë“œëŠ” ë¶„ê¸° ì¡°ê±´ì´ ëª…í™•íˆ ë¶„ë¦¬ë˜ì–´ìˆì§€ ì•ŠìŒ.
- isLoadingì´ trueì´ê³  ë™ì‹œì— errorê°’ì´ ì¡´ì¬í•˜ë©´ ë¡œë”© ì¤‘ì¸ ìƒíƒœì¸ì§€, ì˜¤ë¥˜ê°€ ë°œìƒí•œ ìƒíƒœì¸ì§€ ëª…í™•íˆ êµ¬ë¶„í•  ìˆ˜ ì—†ìŒ. (í•„ìš”í•œ ì •ë³´ê°€ ë¶€ì¡±í•¨)

e.g: í˜ì´ì§€ë¥¼ ì „í™˜í•˜ëŠ” changePageí•¨ìˆ˜ ì •ì˜

```tsx
async function changePage(state: State, newPage: string) {
  state.isLoading = true;

  try {
    const response = await fetch(getUrlForPage(newPage));
    if (!response.ko) {
      throw new Error(`Unable to load ${newPage}: ${response.statusText}`);
    }
    const text = await response.text();
    state.isLoading = false;
    state.pageText = text;
  } catch (e) {
    state.error = "" + e;
  }
}
```

- ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ state.isLoadingì„ falseë¡œ ì„¤ì •í•˜ëŠ” ë¡œì§ì´ ë¹ ì ¸ìˆìŒ.
- state.errorë¥¼ ì´ˆê¸°í™”í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, í˜ì´ì§€ ì „í™˜ ì¤‘ì— ë¡œë”© ë©”ì‹œì§€ ëŒ€ì‹  ê³¼ê±°ì˜ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤Œ
- í˜ì´ì§€ ë¡œë”© ì¤‘ì— ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ë°”ê¿” ë²„ë¦¬ë©´ ì–´ë–¤ ì¼ì´ ë²Œì–´ì§ˆì§€ ì˜ˆìƒí•˜ê¸° ì–´ë ¤ì›€.
- ìƒˆí˜ì´ì§€ì— ì˜¤ë¥˜ê°€ ëœ¨ê±°ë‚˜, ì‘ë‹µì´ ì˜¤ëŠ” ìˆœì„œì— ë”°ë¼ ë‘ ë²ˆì§¸ í˜ì´ì§€ê°€ ì•„ë‹Œ ì²« ë²ˆì§¸ í˜ì´ì§€ë¡œ ì „í™˜ë  ìˆ˜ë„ ìˆìŒ.

ë¬¸ì œì  +

- ìƒíƒœ ê°’ì˜ ë‘ ê°€ì§€ ì†ì„±ì´ ë™ì‹œì— ì •ë³´ê°€ ë¶€ì¡±í•˜ê±°ë‚˜(ìš”ì²­ì´ ì‹¤íŒ¨í•œ ê²ƒì¸ì§€, ì—¬ì „íˆ ë¡œë”©ì¤‘ì¸ì§€ ì•Œ ìˆ˜ ì—†ìŒ)
- ë‘ê°€ì§€ ì†ì„±ì´ ì¶©ëŒ(ì˜¤ë¥˜ì´ë©´ì„œ ë™ì‹œì— ë¡œë”© ì¤‘ì¼ ìˆ˜ ìˆìŒ)í•  ìˆ˜ ìˆë‹¤ëŠ”ê²ƒ.
- State íƒ€ì…ì€ isLoadingì´ trueì´ë©´ì„œ ë™ì‹œì— errorê°’ì´ ì„¤ì •ë˜ëŠ” ë¬´íš¨í•œ ìƒíƒœë¥¼ í—ˆìš©í•¨.
- ë¬´íš¨í•œ ìƒíƒœê°€ ì¡´ì¬í•˜ë©´ render()ì™€ changePage() ë‘˜ ë‹¤ ì œëŒ€ë¡œ êµ¬í˜„í•  ìˆ˜ ì—†ê²Œë¨.

e.g : ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ì¢€ ë” ì œëŒ€ë¡œ í‘œí˜„

```tsx
interface RequestPending {
	state: 'pending';
}
interface RequestError {
	state: 'error';
	error: string;
}
interface RequestSuccess {
	state: 'ok';
	pageText: string;
}
type RequestState = RequestPending | RequestError | RequestSuccess;

interface State {
	currentPage: string;
	requests:{[page:string]:RequestState);
}
```

- ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê³¼ì • ê°ê°ì˜ ìƒíƒœë¥¼ ëª…ì‹œì ìœ¼ë¡œ ëª¨ë¸ë§í•˜ëŠ” íƒœê·¸ëœ ìœ ë‹ˆì˜¨(ë˜ëŠ” êµ¬ë³„ëœ ìœ ë‹ˆì˜¨)ì´ ì‚¬ìš©ë¨.
- ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì˜ ì½”ë“œ ê¸¸ì´ê°€ ì„œë„ˆ ë°° ê¸¸ì–´ì§€ê¸´ í–ˆìœ¼ë‚˜, ë¬´íš¨í•œ ìƒíƒœë¥¼ í—ˆìš©í•˜ì§€ ì•Šë„ë¡ í¬ê²Œ ê°œì„ .
- í˜„ì¬ í˜ì´ì§€ëŠ” ë°œìƒí•˜ëŠ” ëª¨ë“  ìš”ì²­ì˜ ìƒíƒœë¡œì„œ, ëª…ì‹œì ìœ¼ë¡œ ëª¨ë¸ë§.
- ê·¸ ê²°ê³¼ë¡œ ê°œì„ ëœ renderPageì™€ changePageí•¨ìˆ˜ëŠ” ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŒ.

e,g: ê°œì„ ëœ renderPageì™€ changePage

```tsx
function renderPage(state: State) {
  const { currentPage } = state;
  const requestState = state.requests[currentPage];
  switch (requestState.state) {
    case "pending":
      return `Loading ${currentPage}...`;
    case "error":
      return `Error! Unable to load ${currentPage}: ${requestState.error}`;
    case `ok`:
      return `<h1>${currentPage}</h1>\n${requestState.pageText}`;
  }
}

async function changePage(state: State, newPage: string) {
  state.requests[newPage] = { state: "pending" };
  state.currentPage = newPage;

  try {
    const response = await fetch(getUrlForPage(newPage));
    if (!response.ok) {
      throw new Error(`Unable to load ${newPage}: ${response.statusText}`);
    }
    const pageText = await response.text();
    state.requests[newPage] = { state: "ok", pageText };
  } catch (e) {
    state.requests[newPage] = { state: "error", error: "" + e };
  }
}
```

- ì²˜ìŒì— ìˆì—ˆë˜ renderPageì™€ changePageì˜ ëª¨í˜¸í•¨ì€ ì™„ì „íˆ ì‚¬ë¼ì§.
- í˜„ì¬ í˜ì´ì§€ê°€ ë¬´ì—‡ì¸ì§€ ëª…í™•í•˜ë©°, ëª¨ë“  ìš”ì²­ì€ ì •í™•íˆ í•˜ë‚˜ì˜ ìƒíƒœë¡œ ë§ì•„ ë–¨ì–´ì§.
- ìš”ì²­ì´ ì§„í–‰ ì¤‘ì¸ ìƒíƒœì—ì„œ ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ë³€ê²½í•˜ë”ë¼ë„ ë¬¸ì œ ì—†ìŒ.
- ë¬´íš¨ê°€ ëœ ìš”ì²­ì´ ì‹¤í–‰ë˜ê¸´ í•˜ê² ìœ¼ë‚˜ UIì—ëŠ” ì˜í–¥ì´ ì—†ìŒ.

### ìš”ì•½

- ìœ íš¨í•œ ìƒíƒœì™€ ë¬´íš¨í•œ ìƒíƒœë¥¼ ë‘˜ ë‹¤ í‘œí˜„í•˜ëŠ” íƒ€ì…ì€ í˜¼ë€ì„ ì´ˆë˜í•˜ê¸° ì‰½ê³  ì˜¤ë¥˜ë¥¼ ìœ ë°œí•˜ê²Œë¨
- ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•´ì•¼í•¨. ì½”ë“œê°€ ê¸¸ì–´ì§€ê±°ë‚˜ í‘œí˜„í•˜ê¸° ì–´ë µì§€ë§Œ ê²°êµ­ì€ ì‹œê°„ì„ ì ˆì•½í•˜ê³  ê³ í†µì„ ì¤„ì¼ ìˆ˜ ìˆìŒ.

## 29. ì‚¬ìš©í• ë•ŒëŠ” ë„ˆê·¸ëŸ½ê²Œ, ìƒì„±í•  ë•ŒëŠ” ì—„ê²©í•˜ê²Œ

```
TCP êµ¬í˜„ì²´ëŠ” ê²¬ê³ ì„±ì˜ ì¼ë°˜ì ì¸ ì›ì¹™ì„ ë”°ë¼ì•¼ í•œë‹¤.
ë‹¹ì‹ ì˜ ì‘ì—…ì€ ì—„ê²©í•˜ê²Œ í•˜ê³ , ë‹¤ë¥¸ ì‚¬ëŒì˜ ì‘ì—…ì€ ë„ˆê·¸ëŸ½ê²Œ ë°›ì•„ë“¤ì—¬ì•¼ í•œë‹¤
ê²¬ê³ ì„±ì˜ ì›ì¹™ (í¬ìŠ¤í…”ì˜ ë²•ì¹™) - ì¡´ í¬ìŠ¤í…”
```

- í•¨ìˆ˜ì˜ ì‹œê·¸ì²˜ì—ë„ ìœ„ì™€ ë¹„ìŠ·í•œ ê·œì¹™ì„ ì ìš©í•´ì•¼í•¨
- í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì˜ ë²”ìœ„ëŠ” ë„“ì–´ë„ ë˜ì§€ë§Œ, ê²°ê³¼ë¥¼ ë°˜í™˜í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ íƒ€ì…ì˜ ë²”ìœ„ê°€ ë” êµ¬ì²´ì ì´ì–´ì•¼í•¨.

e.g : 3d ë§¤í•‘ APIëŠ” ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ê³  ê²½ê³„ ë°•ìŠ¤ì˜ ë·°í¬íŠ¸ë¥¼ ê³„ì‚°í•˜ëŠ” ë°©ë²•ì„ ì œê³µ.

```tsx
declare function setCamera(camera: CameraOptions): void;
declare function viewportForBounds(bounds: LngLatBounds): CameraOptions;
```

e.g : ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ë¥¼ ì¡ê¸° ìœ„í•´ viewportForBoundsì˜ ê²°ê³¼ê°€ setCameraë¡œ ë°”ë¡œ ì „ë‹¬ ë  ìˆ˜ ìˆë„ë¡ í•¨.

```tsx
interface CameraOptions{
	center? :LngLat;
	zoom? :number;
	bearing? :number;
	pitch? : number;
}
type LngLat = {
	{
		lng:number, lat:number; |
	}
	{
		lon:number, lat:number; |
	}
	[number, number];
}
```

- ì¼ë¶€ ê°’ì€ ê±´ë“œë¦¬ì§€ ì•Šìœ¼ë©´ì„œ ë™ì‹œì— ë‹¤ë¥¸ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ CameraOptionsì˜ í•„ë“œëŠ” ëª¨ë‘ ì„ íƒì .
- LngLat íƒ€ì…ë„ setCamearaì˜ ë§¤ê°œë³€ìˆ˜ ë²”ìœ„ë¥¼ ë„“í˜€ì¤Œ.
- ë§¤ê°œë³€ìˆ˜ë¡œ {lng, lat} ê°ì²´, {lon, lat} ê°ì²´, ë˜ëŠ” ìˆœì„œë§Œ ë§ë‹¤ë©´ [lng, lat] ìŒì„ ë„£ì„ ìˆ˜ë„ ìˆìŒ.
- ì´ëŸ¬í•œ í¸ì˜ì„±ì„ ì œê³µí•˜ì—¬ í•¨ìˆ˜ í˜¸ì¶œì„ ì‰½ê²Œ í•  ìˆ˜ ìˆìŒ.

viewportForBounds í•¨ìˆ˜ëŠ” ë˜ ë‹¤ë¥¸ ììœ ë¡œìš´ íƒ€ì…ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì„ ìˆ˜ ìˆìŒ.

```tsx
type LngLatBounds =
  | { northeat: LngLat; southwest: LngLat }
  | [LngLat, LngLat]
  | [number, number, number, number];
```

- ì´ë¦„ì´ ì£¼ì–´ì§„ ëª¨ì„œë¦¬, ìœ„ë„/ê²½ë„ ìŒ, ë˜ëŠ” ìˆœì„œë§Œ ë§ë‹¤ë©´ 4-íŠœí”Œì„ ì‚¬ìš©í•˜ì—¬ ê²½ê³„ ì§€ì • ê°€ëŠ¥.
- LngLatëŠ” ì„¸ ê°€ì§€ í˜•íƒœë¥¼ ë°›ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ LngLatBoundsì˜ ê°€ëŠ¥í•œ í˜•íƒœëŠ” 19ê°€ì§€ ì´ìƒìœ¼ë¡œ ë§¤ìš° ììœ ë¡œìš´ íƒ€ì…ì´ ë¨.

e.g GeoJSON ê¸°ëŠ¥ì„ ì§€ì›í•˜ë„ë¡ ë·°í¬íŠ¸ë¥¼ ì¡°ì ˆí•˜ê³ , ìƒˆ ë·°í¬íŠ¸ë¥¼ URLì— ì €ì¥í•˜ëŠ” í•¨ìˆ˜ ì •ì˜

```tsx
function focusOnFeature(f: Feature) {
  const bounds = calculateBoundingBox(f);
  const camera = viewportForBounds(bounds);
  setCamera(camera);
  const {
    center: { lat, lng },
    zoom,
  } = camera;
  // error - í˜•ì‹ì— lat, lng ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤.
  zoom;
  window.location.search = `?v=@${lat},${lng}z${zoom}`;
}
```

- lat, lng ì†ì„±ì´ ì—†ê³  zoomì†ì„±ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•˜ì˜€ìœ¼ë‚˜, íƒ€ì…ì´ number | undefinedë¡œ ì¶”ë¡ ë˜ëŠ” ê²ƒ ì—­ì‹œ ë¬¸ì œ.
- ê·¼ë³¸ì ì¸ ë¬¸ì œëŠ” viewportForBoundsì˜ íƒ€ì… ì„ ì–¸ì´ ì‚¬ìš©ë  ë•Œ ë¿ë§Œì´ ì•„ë‹ˆë¼ ë§Œë“¤ì–´ì§ˆ ë•Œë„ ë„ˆë¬´ ììœ ë¡œì›€.
- cameraê°’ì„ ì•ˆì „í•œ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ ìœ ë‹ˆì˜¨ íƒ€ì…ì˜ ê° ìš”ì†Œë³„ë¡œ ì½”ë“œë¥¼ ë¶„ê¸°í•˜ëŠ”ê²ƒ.

- ìˆ˜ë§ì€ ì„ íƒì  ì†ì„±ì„ ê°€ì§€ëŠ” ë°˜í™˜ íƒ€ì…ê³¼ ìœ ë‹ˆì˜¨ íƒ€ì…ì€ viewportForBoundsë¥¼ ì‚¬ìš©í•˜ê¸° ì–´ë µê²Œ ë§Œë“¬.
- ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì˜ ë²”ìœ„ê°€ ë„“ìœ¼ë©´ ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•˜ì§€ë§Œ, ë°˜í™˜ íƒ€ì…ì˜ ë²”ìœ„ê°€ ë„“ìœ¼ë©´ ë¶ˆí¸í•¨.
- **ì¦‰ ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•œ APIì¼ìˆ˜ë¡ ë°˜í™˜ íƒ€ì…ì´ ì—„ê²©í•¨.**

- ìœ ë‹ˆì˜¨ íƒ€ì…ì˜ ìš”ì†Œë³„ ë¶„ê¸°ë¥¼ ìœ„í•œ í•œ ê°€ì§€ ë°©ë²•ì€, ì¢Œí‘œë¥¼ ìœ„í•œ ê¸°ë³¸ í˜•ì‹ì„ êµ¬ë¶„í•˜ëŠ” ê²ƒ
- ë°°ì—´ê³¼ ë°°ì—´ ê°™ì€ ê²ƒ(array-like)ì˜ êµ¬ë¶„ì„ ìœ„í•´, ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ê´€ë¡€ì— ë”°ë¼ LngLatì™€ LngLatLikeë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆìŒ.
- setCameraí•¨ìˆ˜ê°€ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì„ ìˆ˜ ìˆë„ë¡, ì™„ì „íˆ ì •ì˜ëœ Camera íƒ€ì…ê³¼ Cameraíƒ€ì…ì´ ë¶€ë¶„ì ìœ¼ë¡œ ì •ì˜ëœ ë²„ì „ì„ êµ¬ë¶„í•  ìˆ˜ë„ ìˆìŒ.

```tsx
interface LngLat = { lng:number; lat:number;};
type LngLatLike = LngLat | { lon:number; lat:number;} | [number, number];

interface Camera {
	center: LngLat;
	zoom: number;
	bearing: number;
	pitch: number;
}

interface CameraOptions extends Omit<Partial<Camera>, 'center'> {
	center?: LngLatLike;
}
type LngLatBounds =
	{northeat: LngLatLike, southwest: LngLatLike} |
	[LngLatLike, LngLatLike] |
	[number, number, number, number];

declare function setCamera(camera: CameraOptions): void;
declare function viewportForBounds(bounds: LngLatBounds):Camera;
```

- Cameraê°€ ë§¤ìš° ì—„ê²©í•˜ë¯€ë¡œ ì¡°ê±´ì„ ì™„í™”í•˜ê¸° ìœ„í•´ ëŠìŠ¨í•œ CameraOptions íƒ€ì…ìœ¼ë¡œ ë§Œë“¬.
- setCamera ë§¤ê°œ ë³€ìˆ˜ íƒ€ì…ì˜ centerì†ì„±ì— LngLatLike ê°ì²´ë¥¼ í—ˆìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— Partial<Camera>ë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œê°€ ë™ì‘í•˜ì§€ ì•ŠìŒ.
- LngLatLikeê°€ LngLatì˜ ë¶€ë¶„ ì§‘í•©ì´ ì•„ë‹ˆë¼ ìƒìœ„ì§‘í•©ì´ê¸° ë•Œë¬¸ì—, Camera Options extends Partial<Camera>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ì•¼í•¨.
- ë„ˆë¬´ ë³µì¡í•´ë³´ì¸ë‹¤ë©´, ì•½ê°„ì˜ ë°˜ë³µ ì‘ì—…ì„ í•´ì•¼ê² ìœ¼ë‚˜, ëª…ì‹œì ìœ¼ë¡œ íƒ€ì…ì„ ì¶”ì¶œí•´ì„œ ê°œì„ í•  ìˆ˜ ìˆìŒ.

e.g CameraOptionsì˜ ê°œì„  ë²„ì „

```tsx
interface CameraOptions {
  center?: LngLatLike;
  zoom?: number;
  bearing?: number;
  pitch?: number;
}
```

e.g : CameraOptionsë¥¼ ì„ ì–¸í•˜ëŠ” ë‘ ê°€ì§€ ë°©ì‹ ëª¨ë‘ focusOnFeatureí•¨ìˆ˜ê°€ íƒ€ì… ì²´ì»¤ë¥¼ í†µê³¼í•  ìˆ˜ ìˆê²Œ í•¨.

```tsx
function focusOnFeature(f: Feature) {
  const bounds = calculateBoundingBox(f);
  const camera = viewportForBounds(bounds);
  setCamera(camera);
  const {
    center: { lat, lng },
    zoom,
  } = camera; // ì •ìƒ
  zoom; // íƒ€ì…ì´ number
  window.location.search = `?v=@${lat},${lng}z${zoom}`;
}
```

- zoomì˜ íƒ€ì…ì´ number|undefinedê°€ ì•„ë‹ˆë¼ numberì„.
- ì´ì œ viewportForBoundsí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° í›¨ì”¬ ì‰¬ì›Œì§.
- ê·¸ë¦¬ê³  boundsë¥¼ ìƒì„±í•˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ LngLatBoundsì™€ LngLatBoundsLikeë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆë„ë¡ ìƒˆë¡œìš´ ê¸°ë³¸ í˜•ì‹ì„ ë„ì…í•´ì•¼í•¨.
- ì•ì— ë“±ì¥í•œ ê²ƒ ì²˜ëŸ¼ ê²½ê³„ ë°•ìŠ¤ì˜ í˜•íƒœë¥¼ 19ê°€ì§€ë‚˜ í—ˆìš©í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ì„¤ê³„ê°€ ì•„ë‹˜.
- ê·¸ëŸ¬ë‚˜ ë‹¤ì–‘í•œ íƒ€ì…ì„ í—ˆìš©í•´ì•¼í•˜ë§Œ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ íƒ€ì… ì„ ì–¸ì„ ì‘ì„±í•˜ê³  ìˆë‹¤ë©´, ì–´ì©” ìˆ˜ ì—†ì´ ë‹¤ì–‘í•œ íƒ€ì…ì„ í—ˆìš©í•˜ëŠ” ê²½ìš°ê°€ ìƒê¹€. í•˜ì§€ë§Œ ê·¸ë•Œë„ 19ê°€ì§€ ë°˜í™˜ íƒ€ì…ì´ ë‚˜ìœ ì„¤ê³„ë¼ëŠ” ì‚¬ì‹¤ì„ ìŠì–´ì„œëŠ” ì•ˆë¨.

### ìš”ì•½

- ë³´í†µ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì€ ë°˜í™˜ íƒ€ì…ì— ë¹„í•´ ë²”ìœ„ê°€ ë„“ì€ ê²½í–¥ì´ ìˆìŒ.
- ì„ íƒì  ì†ì„±ê³¼ ìœ ë‹ˆì˜¨ íƒ€ì…ì€ ë°˜í™˜ íƒ€ì…ë³´ë‹¤ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì— ë” ì¼ë°˜ì .
- ë§¤ê°œë³€ìˆ˜ì™€ ë°˜í™˜ íƒ€ì…ì˜ ì¬ì‚¬ìš©ì„ ìœ„í•´ì„œ ê¸°ë³¸ í˜•íƒœ(ë°˜í™˜ íƒ€ì…)ì™€ ëŠìŠ¨í•œ í˜•íƒœ(ë§¤ê°œë³€ìˆ˜ íƒ€ì…)ì„ ë„ì…í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ.

## 30. ë¬¸ì„œì— íƒ€ì… ì •ë³´ë¥¼ ì“°ì§€ ì•Šê¸°

e.g : ì˜ëª»ëœ ì½”ë“œ (ì½”ë“œì™€ ì£¼ì„ ì •ë³´ê°€ ë§ì§€ ì•ŠìŒ)

```tsx
/**
 * ì „ê²½ìƒ‰(foreground) ë¬¸ìì—´ì„ ë°˜í™˜.
 * 0 ê°œ ë˜ëŠ” 1ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤.
 * ë§¤ê°œë³€ìˆ˜ê°€ ì—†ì„ ë•ŒëŠ” í‘œì¤€ ì „ê²½ìƒ‰ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
 * ë§¤ê°­ë³€ìˆ˜ê°€ ìˆì„ ë•ŒëŠ” íŠ¹ì • í˜ì´ì§€ì˜ ì ¼ê²½ìƒ‰ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
 */
function getForegroundColor(page?: string) {
  return page === "login" ? { r: 127, g: 127, b: 127 } : { r: 0, g: 0, b: 0 };
}
```

3ê°€ì§€ ë¬¸ì œì ì´ ì¡´ì¬

1. í•¨ìˆ˜ê°€ stringí˜•íƒœì˜ ìƒ‰ê¹”ì„ ë°˜í™˜í•œë‹¤ê³  ì í˜€ìˆìœ¼ë‚˜ ì‹¤ì œë¡œëŠ” {r, g, b} ê°ì²´ë¥¼ ë°˜í™˜.
2. ì£¼ì„ì—ëŠ” í•¨ìˆ˜ê°€ 0ê°œ ë˜ëŠ” 1ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤ê³  ì„¤ëª…í•˜ê³  ìˆìœ¼ë‚˜, íƒ€ì… ì‹œê·¸ë‹ˆì²˜ë§Œ ë³´ì•„ë„ ëª…í™•í•˜ê²Œ ì•Œ ìˆ˜ ìˆëŠ” ì •ë³´.
3. ë¶ˆí•„ìš”í•˜ê²Œ ì¥í™©í•¨. í•¨ìˆ˜ ì„ ì–¸ê³¼ êµ¬í˜„ì²´ë³´ë‹¤ ì£¼ì„ì´ ë” ê¹€.

- ì£¼ì„ë³´ë‹¤ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì… êµ¬ë¬¸ ì‹œìŠ¤í…œì´ ë” ë‚˜ìŒ.
- ì£¼ì„ì€ ì½”ë“œì™€ ë™ê¸°í™” ë˜ì§€ ì•ŠìŒì„ ëª…ì‹¬.

e.g : ì£¼ì„ì„ ê°œì„ 

```tsx
/** ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” íŠ¹ì • í˜ì´ì§€ì˜ ì „ê²½ìƒ‰ì„ ê°€ì§€ê³  ì˜´*/
function getForegroundColor(page?: string): Color {
  // ...
}
```

- íŠ¹ì • ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ëª…í•˜ê³  ì‹¶ë‹¤ë©´ JSDocì˜ @param êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ë©´ ë¨

```tsx
/** numsë¥¼ ë³€ê²½í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ **/
function sort(nums: number[]) {
  /*...*/
}
```

- ê°’ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ì„¤ëª…í•˜ëŠ” ì£¼ì„ë„ ì¢‹ì§€ ì•ŠìŒ.
- ë˜í•œ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì£¼ì„ë„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê²Œ ì¢‹ìŒ.

```tsx
function sort(nums: readonly number[]) {
  /* ... */
}
```

- readonly ë¡œ ì„ ì–¸í•˜ì—¬ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ê·œì¹™ì„ ê°•ì œí•  ìˆ˜ ìˆê²Œí•˜ë©´ ë¨
- ì£¼ì„ì— ì ìš©í•œ ê·œì¹™ì€ ë³€ìˆ˜ëª…ì—ë„ ê·¸ëŒ€ë¡œ ì ìš©í•  ìˆ˜ ìˆìŒ.
- ë³€ìˆ˜ëª…ì— íƒ€ì… ì •ë³´ë¥¼ ë„£ì§€ ì•Šë„ë¡ í•¨.
- ë‹¨, ë‹¨ìœ„ê°€ ìˆëŠ” ìˆ«ìë“¤ì€ ì˜ˆì™¸. ë‹¨ìœ„ê°€ ë¬´ì—‡ì¸ì§€ í™•ì‹¤í•˜ì§€ ì•Šë‹¤ë©´ ë³€ìˆ˜ëª… ë˜ëŠ” ì†ì„± ì´ë¦„ì— ë‹¨ìœ„ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŒ. ì˜ˆë¥¼ ë“¤ì–´ timesMsëŠ” time ë³´ë‹¤ í›¨ì”¬ ëª…í™•í•˜ê³  temperatureCëŠ” temperatureë³´ë‹¤ í›¨ì”¬ ëª…í™•í•¨.

### ìš”ì•½

- ì£¼ì„ê³¼ ë³€ìˆ˜ëª…ì— íƒ€ì… ì •ë³´ë¥¼ ì ëŠ”ê²ƒì€ í”¼í•´ì•¼í•¨.
- íƒ€ì… ì„ ì–¸ì´ ì¤‘ë³µë˜ëŠ” ê²ƒìœ¼ë¡œ ëë‚˜ë©´ ë‹¤í–‰ì´ì§€ë§Œ, ìµœì•…ì˜ ê²½ìš°ëŠ” íƒ€ì… ì •ë³´ì— ëª¨ìˆœ ë°œìƒ
- íƒ€ì…ì´ ëª…í™•í•˜ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” ë³€ìˆ˜ëª…ì— ë‹¨ìœ„ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ëŠ”ê²ƒì´ ì¢‹ìŒ.(ex timeMs ë˜ëŠ” temperatureC)

## 31 íƒ€ì… ì£¼ë³€ì— null ê°’ ë°°ì¹˜í•˜ê¸°

- ê°’ì´ ì „ë¶€ nullì´ê±°ë‚˜ ì „ë¶€ nullì´ ì•„ë‹Œ ê²½ìš°ë¡œ ë¶„ëª…íˆ êµ¬ë¶„ëœë‹¤ë©´, ê°’ì´ ì„ì—¬ ìˆì„ ë•Œ ë³´ë‹¤ ë‹¤ë£¨ê¸° ì‰¬ì›€.
- íƒ€ì…ì— nullì„ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì´ëŸ¬í•œ ê²½ìš°ë¥¼ ëª¨ë¸ë§ í•  ìˆ˜ ìˆìŒ.

e.g : ìˆ«ìë“¤ì˜ ìµœì†Ÿê°’ê³¼ ìµœëŒ“ê°’ì„ ê³„ì‚°í•˜ëŠ” extent í•¨ìˆ˜ë¥¼ ê°€ì •

```tsx
function extent(nums: number[]) {
  let min, max;
  for (const num of nums) {
    if (!min) {
      min = num;
      max = num;
    } else {
      min = Math.min(min, num);
      max = Math.max(max, num);
    }
  }
  return [min, max];
}
```

- íƒ€ì… ì²´ì»¤ë¥¼ í†µê³¼(strictNullChecks ì—†ì´), ë°˜í™˜ íƒ€ì…ì€ number[]ë¡œ ì¶”ë¡ ë¨.
- ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì—ëŠ” ë²„ê·¸ì™€ í•¨ê»˜ ì„¤ê³„ì  ê²°í•¨ì´ ìˆìŒ.
  - ìµœì†Ÿê°’ì´ë‚˜ ìµœëŒ“ê°’ì´ 0ì¸ ê²½ìš°, ê°’ì´ ë§ì”Œì–´ì§. ì˜ˆë¥¼ ë“¤ì–´ extent([0, 1, 2])ì˜ ê²°ê³¼ëŠ” [0, 2]ê°€ ì•„ë‹ˆë¼ [1, 2] ê°€ ë¨.
  - nums ë°°ì—´ì´ ë¹„ì–´ìˆë‹¤ë©´ í•¨ìˆ˜ëŠ” [undefined, undefined] ë¥¼ ë°˜í™˜.
- undefinedë¥¼ í¬í•¨í•˜ëŠ” ê°ì²´ëŠ” ë‹¤ë£¨ê¸° ì–´ë µê³  ì ˆëŒ€ ê¶Œì¥í•˜ì§€ ì•ŠìŒ.
- ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ minê³¼ maxê°€ ë™ì‹œì— ë‘˜ ë‹¤ undefinedì´ê±°ë‚˜ ë‘˜ ë‹¤ undefined ê°€ ì•„ë‹ˆë¼ëŠ”ê²ƒì„ ì•Œ ìˆ˜ ìˆìœ¼ë‚˜, ì´ëŸ¬í•œ ì •ë³´ëŠ” íƒ€ì… ì‹œìŠ¤í…œì—ì„œ í‘œí˜„í•  ìˆ˜ ì—†ìŒ.

e.g : strictNullChecks ì„¤ì •ì„ ì¼  ìƒíƒœ

```tsx
function extent(nums: number[]) {
  let min, max;
  for (const num of nums) {
    if (!min) {
      min = num;
      max = num;
    } else {
      min = Math.min(min, num);
      max = Math.max(max, num);
      //error -
      //Argument of type 'number | undefined' is not assignable to parameter of type 'number'.
      //Type 'undefined' is not assignable to type 'number'.
    }
  }
  return [min, max];
}
```

- extentì˜ ë°˜í™˜ íƒ€ì…ì´ (number | undefined)[]ë¡œ ì¶”ë¡ ë˜ì–´ì„œ ì„¤ê³„ì  ê²°í•¨ì´ ë¶„ëª…í•´ì§
- extentë¥¼ í˜¸ì¶œí•˜ëŠ” ê³³ ë§ˆë‹¤ íƒ€ì… ì˜¤ë¥˜ì˜ í˜•íƒœë¡œ ë‚˜íƒ€ë‚¨

```tsx
const [min, max] = extent([0, 1, 2]);
const span = max - min;
//error - 'max' is possibly 'undefined'.
```

- extent í•¨ìˆ˜ì˜ ì˜¤ë¥˜ëŠ” undefinedë¥¼ minì—ì„œë§Œ ì œì™¸í–ˆê³ , maxì—ì„œëŠ” ì œì™¸í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë°œìƒ.
- ë‘ê°œì˜ ë³€ìˆ˜ëŠ” ë™ì‹œì— ì´ˆê¸°í™” ë˜ì§€ë§Œ, ì´ëŸ¬í•œ ì •ë³´ëŠ” íƒ€ì… ì‹œìŠ¤í…œì— í‘œí˜„í•  ìˆ˜ ì—†ìŒ.
- maxì— ëŒ€í•œ ì²´í¬ë¥¼ ì¶”ê°€í•´ì„œ ì˜¤ë¥˜ë¥¼ í•´ê²°í•  ìˆ˜ë„ ìˆì§€ë§Œ ë²„ê·¸ê°€ ë‘ë°°ë¡œ ëŠ˜ì–´ë‚  ê²ƒ.

e.g ë” ë‚˜ì€ ë°©ë²•ì„ ì ìš©(minê³¼ maxë¥¼ í•œ ê°ì²´ ì•ˆì— ë„£ê³  nullì´ê±°ë‚˜ nullì´ ì•„ë‹ˆê²Œ í•˜ë©´ ë¨.

```tsx
function extent(nums: number[]) {
  let result: [number, number] | null = null;
  for (const num of nums) {
    if (!result) {
      result = [num, num];
    } else {
      result = [Math.min(num, result[0]), Math.max(num, result[1])];
    }
    return result;
  }
}
```

- ì´ì œëŠ” ë°˜í™˜ íƒ€ì…ì´ [number, number] | nullì´ ë˜ì–´ì„œ ì‚¬ìš©í•˜ê¸°ê°€ ë” ìˆ˜ì›”í•´ì§.

e.g : null ì•„ë‹˜ ë‹¨ì–¸(!)ì„ ì‚¬ìš©í•˜ë©´ minê³¼ maxë¥¼ ì–»ì„ ìˆ˜ ìˆìŒ.

```tsx
const [min, max] = extent([0, 1, 2]);
const span = max - min; //ì •ìƒ
```

e.g : nullì•„ë‹˜ ë‹¨ì–¸ ëŒ€ì‹  ë‹¨ìˆœ if êµ¬ë¬¸ìœ¼ë¡œ ì²´í¬í•  ìˆ˜ë„ ìˆìŒ.

```tsx
const range = extent([0, 1, 2]);
if (range) {
  const [min, max] = range;
  const span = max - min; //ì •ìƒ
}
```

- extentì˜ ê²°ê´ê°’ìœ¼ë¡œ ë‹¨ì¼ ê°ì²´ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì„¤ê³„ë¥¼ ê°œì„ .
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ null ê°’ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì´í•´í•  ìˆ˜ ìˆë„ë¡ í–ˆìœ¼ë©°, ë²„ê·¸ë„ ì œê±°.
- if(!result)ì²´í¬ëŠ” ì´ì œ ì œëŒ€ë¡œ ë™ì‘.

e.g nullê³¼ nullì´ ì•„ë‹Œ ê°’ì„ ì„ì–´ì„œ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤ì—ì„œë„ ë¬¸ì œê°€ ìƒê¸°ëŠ” ì˜ˆì œ

```tsx
class UserPosts {
  user: UserInfo | null;
  posts: Post[] | null;

  constructor() {
    this.user = null;
    this.posts = null;
  }

  async init(userId: string) {
    return Promise.all([
      async () => (this.user = await fetchUser(userId)),
      async () => (this.posts = await fetchPostForUser(userId)),
    ]);
  }

  getUserName() {
    // ...?
  }
}
```

- ë‘ ë²ˆì˜ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ë¡œë“œë˜ëŠ” ë™ì•ˆ userì™€ posts ì†ì„±ì€ null ìƒíƒœ.
- ì–´ë–¤ ì‹œì ì—ëŠ” ë‘˜ ë‹¤ nullì´ê±°ë‚˜, ë‘˜ì¤‘ í•˜ë‚˜ë§Œ nullì´ê±°ë‚˜, ë‘˜ë‹¤ nullì´ ì•„ë‹ ìˆ˜ ìˆìŒ. ì´ ë„¤ê°€ì§€ ê²½ìš° ì¡´ì¬
- ì†ì„±ê°’ì˜ ë¶ˆí™•ì‹¤ì„±ì´ í´ë˜ìŠ¤ì˜ ëª¨ë“  ë©”ì„œë“œì— ë‚˜ìœ ì˜í–¥ì„ ë¯¸ì¹¨. ê²°êµ­ nullì²´í¬ê°€ ë‚œë¬´í•˜ê³  ë²„ê·¸ë¥¼ ì–‘ì‚°í•˜ê²Œ ë  ê²ƒ.

e.g : ì„¤ê³„ë¥¼ ê°œì„ 

```tsx
class UserPosts {
  user: UserInfo;
  posts: Post[];

  constructor(user: UserInfo, posts: Post[]) {
    this.user = user;
    this.posts = posts;
  }

  async init(userId: string): Promise<UserPosts> {
    const [user, posts] = await Promise.all([
      fetchUser(userId),
      fetchPostForUser(userId),
    ]);
    return new UserPosts(user, posts);
  }

  getUserName() {
    return this.user.name;
  }
}
```

- UserPosts í´ë˜ìŠ¤ëŠ” ì™„ì „íˆ nullì´ ì•„ë‹ˆê²Œ ë˜ì—ˆê³ , ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ê¸° ì‰¬ì›Œì¡ŒìŒ.
- ì´ ê²½ìš°ì—ë„ ë°ì´í„°ê°€ ë¶€ë¶„ì ìœ¼ë¡œ ì¤€ë¹„ë˜ì—ˆì„ ë•Œ ì‘ì—…ì„ ì‹œì‘í•´ì•¼í•œë‹¤ë©´, nullê³¼ nullì´ ì•„ë‹Œ ê²½ìš°ì˜ ìƒíƒœë¥¼ ë‹¤ë£¨ì–´ì•¼í•¨.

ì£¼ì˜

- nullì¸ ê²½ìš°ê°€ í•„ìš”í•œ ì†ì„±ì€ í”„ë¡œë¯¸ìŠ¤ë¡œ ë°”ê¾¸ë©´ ì•ˆë¨. ì½”ë“œê°€ ë§¤ìš° ë³µì¡í•´ì§€ë©° ëª¨ë“  ë©”ì„œë“œê°€ ë¹„ë™ê¸°ë¡œ ë°”ë€Œì–´ì•¼í•¨.
- í”„ë¡œë¯¸ìŠ¤ëŠ” ë°ì´í„°ë¥¼ ë¡œë“œí•˜ëŠ” ì½”ë“œë¥¼ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ì–´ ì£¼ì§€ë§Œ, ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ì—ì„œëŠ” ë°˜ëŒ€ë¡œ ì½”ë“œê°€ ë³µì¡í•´ì§€ëŠ” íš¨ê³¼ë¥¼ ë‚´ê¸°ë„ í•¨.

### ìš”ì•½

- í•œ ê°’ì˜ null ì—¬ë¶€ê°€ ë‹¤ë¥¸ ê°’ì˜ null ì—¬ë¶€ì— ì•”ì‹œì ìœ¼ë¡œ ê´€ë ¨ë˜ë„ë¡ ì„¤ê³„í•˜ë©´ ì•ˆë¨.
- API ì‘ì„± ì‹œì—ëŠ” ë°˜í™˜ íƒ€ì…ì„ í° ê°ì²´ë¡œ ë§Œë“¤ê³ , ë°˜í™˜ íƒ€ì… ì „ì²´ê°€ null ì´ê±°ë‚˜, nullì´ ì•„ë‹ˆê²Œ ë§Œë“¤ì–´ì•¼í•¨. ì‚¬ëŒê³¼ íƒ€ì… ì²´ì»¤ ëª¨ë‘ì—ê²Œ ëª…ë£Œí•œ ì½”ë“œê°€ ë  ê²ƒ.
- **í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•ŒëŠ” í•„ìš”í•œ ëª¨ë“  ê°’ì´ ì¤€ë¹„ë˜ì—ˆì„ ë•Œ ìƒì„±í•˜ì—¬ nullì´ ì¡´ì¬í•˜ì§€ ì•Šë„ë¡ í•˜ëŠ”ê²ƒì´ ì¢‹ìŒ.**
- strictNullChecksë¥¼ ì„¤ì •í•˜ë©´ ì½”ë“œì— ë§ì€ ì˜¤ë¥˜ê°€ í‘œì‹œë˜ê² ì§€ë§Œ, nullê°’ê³¼ ê´€ë ¨ëœ ë¬¸ì œì ì„ ì°¾ì•„ë‚¼ ìˆ˜ ìˆê¸°ì— ë°˜ë“œì‹œ í•„ìš”í•¨.

## 32. ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•˜ê¸°

- ìœ ë‹ˆì˜¨ íƒ€ì… ì†ì„±ì„ ê°€ì§€ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‘ì„± ì¤‘ì´ë¼ë©´ ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ë” ì•Œë§ì§€ëŠ” ì•Šì„ì§€ ê²€í† í•  í•„ìš”ì„±ì´ ìˆìŒ.

e.g ë²¡í„°ë¥¼ ê·¸ë¦¬ëŠ” í”„ë¡œê·¸ë¨. íŠ¹ì • ê¸°í•˜í•™ì (geometry)íƒ€ì…ì„ ê°€ì§€ëŠ” ê³„ì¸µì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤ê³  ê°€ì •.

```tsx
interface Layer {
  layout: FillLayout | LineLayout | PointLayout;
  paint: FillPaint | LinePaint | PointPaint;
}
```

- layout ì†ì„±ì€ ëª¨ì–‘ì´ ê·¸ë ¤ì§€ëŠ” ë°©ë²•ê³¼ ìœ„ì¹˜(ë‘¥ê·¼ ëª¨ì„œë¦¬, ì§ì„ )ì„ ì œì–´.
- paintì†ì„±ì€ ìŠ¤íƒ€ì¼(íŒŒë€ì„ , êµµì€ì„ , ì–‡ì€ì„ , ì ì„¬)ì„ ì œì–´.
- layoutì´ LineLayoutì´ë©´ì„œ paintì†ì„±ì´ FillPaint íƒ€ì…ì¸ ê²ƒì€ ì„±ë¦½ë˜ì§€ ì•ŠìŒ.

e.g : ì˜¤ë¥˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ë” ë‚˜ì€ ë°©ë²•ìœ¼ë¡œ ëª¨ë¸ë§

```tsx
interface FillLayer {
  layout: FillLayout;
  paint: FillPaint;
}
interface LineLayer {
  layout: LineLayout;
  paint: LinePaint;
}
interface PointLayer {
  layout: PointLayout;
  paint: PointPaint;
}
type Layer = FillLayer | LineLayer | PointLayer;
```

- layoutê³¼ paint ì†ì„±ì´ ì˜ëª»ëœ ì¡°í•©ìœ¼ë¡œ ì„ì´ëŠ” ê²½ìš°ë¥¼ ë°©ì§€ í•¨.
- ìœ íš¨í•œ ìƒíƒœë§Œì„ í‘œí˜„í•¨.

e.g: íƒœê·¸ëœ ìœ ë‹ˆì˜¨(ë˜ëŠ” êµ¬ë¶„ëœ ìœ ë‹ˆì˜¨)ì˜ ì˜ˆ

```tsx
//Layerì˜ ê²½ìš° ì†ì„± ì¤‘ì˜ í•˜ë‚˜ëŠ” ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì…ì˜ ìœ ë‹ˆì˜¨ì´ ë¨.
interface Layer {
  type: "fill" | "line" | "point";
  layout: FillLayout | LineLayout | PointLayout;
  paint: FillPaint | LinePaint | PointPaint;
}
```

e.g : type â€˜fillâ€™ ê³¼ LineLayoutê³¼ PointPaint íƒ€ì…ì´ ê°™ì´ ì“°ëŠ” ê²½ìš°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ Layerë¥¼ ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ë³€í™˜

```tsx
interface FillLayer {
  type: "fill";
  layout: FillLayout;
  paint: FillPaint;
}
interface LineLayer {
  type: "line";
  layout: LineLayout;
  paint: LinePaint;
}
interface PointLayer {
  type: "paint";
  layout: PointLayout;
  paint: PointPaint;
}
type Layer = FillLayer | LineLayer | PointLayer;
```

- type ì†ì„±ì€ â€˜íƒœê·¸â€™ ì´ë©° ëŸ°íƒ€ì„ì— ì–´ë–¤ íƒ€ì…ì˜ Layerê°€ ì‚¬ìš©ë˜ëŠ”ì§€ íŒë‹¨í•˜ëŠ”ë° ì“°ì„.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” íƒœê·¸ë¥¼ ì°¸ê³ í•˜ì—¬ Layerì˜ íƒ€ì… ë²”ìœ„ë¥¼ ì¢í ìˆ˜ë„ ìˆìŒ.

```tsx
function drawLayer(layer: Layer) {
  if (layer.type === "fill") {
    const { paint } = layer; // íƒ€ì… FillPaint
    const { layout } = layer; // íƒ€ì…ì´ FillLayout
  } else if (layer.type === "line") {
    const { paint } = layer; //íƒ€ì…ì´ LinePaint
    const { layout } = layer; //íƒ€ì…ì´ LineLayout
  } else {
    const { paint } = layer; //íƒ€ì…ì´ PointPaint
    const { layout } = layer; //íƒ€ì…ì´ PointLayout
  }
}
```

- ê° íƒ€ì…ì˜ ì†ì„±ë“¤ ê°„ì˜ ê´€ê³„ë¥¼ ì œëŒ€ë¡œ ëª¨ë¸ë§í•˜ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì½”ë“œì˜ ì •í™•ì„±ì„ ì²´í¬í•˜ëŠ”ë° ë„ì›€ì´ ë¨.
- ë‹¤ë§Œ íƒ€ì… ë¶„ê¸°í›„ layerê°€ í¬í•¨ëœ ë™ì¼í•œ ì½”ë“œê°€ ë°˜ë³µë˜ëŠ” ê²ƒì´ ì–´ìˆ˜ì„ í•˜ê²Œ ë³´ì„.
- íƒœê·¸ëœ ìœ ë‹ˆì˜¨ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì²´ì»¤ì™€ ì˜ ë§ìœ¼ë¯€ë¡œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ ì–´ë””ì—ì„œë‚˜ ì°¾ì„ ìˆ˜ ìˆìŒ.
- í•´ë‹¹ íŒ¨í„´ì„ ì˜ ê¸°ì–µí•˜ì—¬ í•„ìš”í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•¨.
- ì–´ë–¤ ë°ì´í„° íƒ€ì…ì„ íƒœê·¸ëœ ìœ ë‹ˆì˜¨ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ë©´, ê·¸ë ‡ê²Œ í•˜ëŠ”ê²Œ ì¢‹ìŒ.
- ì—¬ëŸ¬ ê°œì˜ ì„ íƒì  í•„ë“œê°€ ë™ì‹œì— ê°’ì´ ìˆê±°ë‚˜ ë™ì‹œì— undefined ì¸ ê²½ìš°ë„ íƒœê·¸ëœ ìœ ë‹ˆì˜¨ íŒ¨í„´ì´ ì˜ ë§ìŒ.

e.g : íƒ€ì…ì •ë³´ë¥¼ ë‹´ê³ ìˆëŠ” ì£¼ì„ìœ¼ë¡œ ì¸í•´ ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œ

```tsx
interface Person {
  name: string;
  //ë‹¤ìŒì€ ë‘˜ ë‹¤ ë™ì‹œì— ìˆê±°ë‚˜ ë™ì‹œì— ì—†ìŒ.
  placeOfBirth?: string;
  dateOfBirth?: Date;
}
```

- íƒ€ì… ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ì£¼ì„ì€ ë¬¸ì œê°€ ë  ì†Œì§€ê°€ ë§¤ìš° ë†’ìŒ.
- placeOfBirthì™€ dateOfBirth í•„ë“œëŠ” ì‹¤ì œë¡œ ê´€ë ¨ë˜ì–´ ìˆì§€ë§Œ, íƒ€ì… ì •ë³´ì—ëŠ” ì–´ë– í•œ ê´€ê³„ë„ í‘œí˜„ë˜ì§€ ì•ŠìŒ.

e.g : ë‘ê°œì˜ ì†ì„±ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ëª¨ì•„ ë” ë‚˜ì€ ì„¤ê³„ ì ìš©.

```tsx
interface Person {
  name: string;
  birth?: {
    place: string;
    date: Date;
  };
}
```

e.g : placeë§Œ ìˆê³  dateê°€ ì—†ëŠ” ê²½ìš° ì˜¤ë¥˜ ë°œìƒ

```tsx
const alanT: Person = {
  name: "Alan Turing",
  birth: {
    //Property 'date' is missing in type '{ place: string; }'
    // but required in type '{ place: string; date: Date; }'.
    place: "London",
  },
};
```

e.g : Person ê°ì²´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ”í•¨ìˆ˜ëŠ” birth í•˜ë‚˜ë§Œ ì²´í¬í•˜ë©´ ë¨.

```tsx
function eulogize(p: Person) {
	console.log(p.name);
	const {birth} = p;
	if(birth){
		console.log('was born on ${birth.date} in ${birth.place}.`);
	}
}
```

```tsx
interface Name {
  name: string;
}

interface PersonWithBirth extends Name {
  placeOfBirth: string;
  dateOfBirth: Date;
}

type Person = Name | PersonWithBirth;
```

- íƒ€ì…ì˜ êµ¬ì¡°ë¥¼ ì† ëŒˆ ìˆ˜ ì—†ëŠ” ìƒí™©(ex : APIì˜ ê²°ê³¼)ì´ë©´, ì•ì„œ ë‹¤ë£¬ ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•´ì„œ ì†ì„± ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ëª¨ë¸ë§ í•  ìˆ˜ ìˆìŒ.

e.g : ì¤‘ì²©ëœ ê°ì²´ì—ì„œë„ ë™ì¼í•œ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŒ.

```tsx
function eulogize(p: Person) {
  if ("placeOfBirth" in p) {
    p; //íƒ€ì…ì´ PersonWithBirth
    const { dateOfBirth } = p; //ì •ìƒ, íƒ€ì…ì´ Date
  }
}
```

## ìš”ì•½

- ìœ ë‹ˆì˜¨ íƒ€ì…ì˜ ì†ì„±ì„ ì—¬ëŸ¬ ê°œ ê°€ì§€ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ì„œëŠ” ì†ì„± ê°„ì˜ ê´€ê³„ê°€ ë¶„ëª…í•˜ì§€ ì•ŠìŒ.
- ì´ë¡œ ì¸í•´ ì‹¤ìˆ˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©° ì£¼ì˜í•´ì•¼í•¨.
- ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì´ ë” ì •í™•í•˜ê³  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì´í•´í•˜ê¸°ë„ ì¢‹ìŒ.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì œì–´ íë¦„ì„ ë¶„ì„í•  ìˆ˜ ìˆë„ë¡ íƒ€ì…ì— íƒœê·¸ë¥¼ ë„£ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼í•¨. íƒœê·¸ëœ ìœ ë‹ˆì˜¨ íƒ€ì…ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ ë§¤ìš° ì˜ ë§ê¸° ë•Œë¬¸ì— ìì£¼ ë³¼ ìˆ˜ ìˆëŠ” íŒ¨í„´.

## 33. string íƒ€ì…ë³´ë‹¤ ë” êµ¬ì²´ì ì¸ íƒ€ì… ì‚¬ìš©í•˜ê¸°

- stringì˜ íƒ€ì…ì˜ ë²”ìœ„ëŠ” ë§¤ìš° ë„“ìŒ
- â€œxâ€ í˜¹ì€ â€œyâ€ , â€œcall me isâ€¦â€ ê°™ì€ ë‚´ìš©ë„ string íƒ€ì….
- stringíƒ€ì…ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë ¤ í•œë‹¤ë©´ ë” ì¢ì€ íƒ€ì…ì´ ì ì ˆí•œì§€ ê²€í†  í•„ìš”.

e.g : ìŒì•… ì»¬ë ‰ì…˜ì„ ë§Œë“¤ê¸° ìœ„í•´ ì•¨ë²”ì˜ íƒ€ì…ì„ ì •ì˜

```tsx
interface Album {
  artist: string;
  title: string;
  releaseDate: string; // YYYY-MM-DD
  recordingType: string; // "live" or "studio"
}
```

- stringíƒ€ì…ì´ ë‚¨ë°œë˜ì–´ìˆìŒ.
- ì£¼ì„ì— íƒ€ì… ì •ë³´ë¥¼ ì ì–´ë‘ì–´ í˜„ì¬ ì¸í„°í˜ì´ìŠ¤ê°€ ì˜ëª»ë˜ì—ˆìŒ.

e.g : Album íƒ€ì…ì— ì—‰ëš±í•œ ê°’ì„ ì„¤ì •

```tsx
const kindOfBlue: Album = {
  artist: "Miles Davis",
  title: "Kind of Blue",
  releaseDate: "August 17th, 1959", //ë‚ ì§œ í˜•ì‹ì´ ë‹¤ë¦„.
  recordingType: "Studio", //ì˜¤íƒ€(ëŒ€ë¬¸ì S)
}; //ê·¸ëŸ¬ë‚˜ ì •ìƒ ë™ì‘í•¨
```

- releaseDate í•„ë“œê°’ì€ ì£¼ì„ì— ì„¤ëª…ëœ í˜•ì‹ê³¼ ë‹¤ë¦„.
- recordingType í•„ë“œì˜ ê°’ â€œStudioâ€ëŠ” ì†Œë¬¸ì ëŒ€ì‹  ëŒ€ë¬¸ìê°€ ì“°ì„.
- ê·¸ëŸ¬ë‚˜ Albumíƒ€ì…ì— í• ë‹¹ê°€ëŠ¥í•˜ë©° íƒ€ì… ì²´ì»¤ë¥¼ í†µê³¼.

e.g : ì œëŒ€ë¡œëœ Album ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ ë§¤ê°œë³€ìˆ˜ ìˆœì„œê°€ ì˜ëª»ëœ ê²ƒì´ ì˜¤ë¥˜ë¡œ ë“œëŸ¬ë‚˜ì§€ ì•ŠìŒ.

```tsx
function recordRelease(title: string, date: string) {
  /* ... */
}
recordRelease(kindOfBlue.releaseDate, kindOfBlue.title); //ì˜¤ë¥˜ì´ë‚˜ ì •ìƒ
```

- ë§¤ê°œë³€ìˆ˜ë“¤ì˜ ìˆœì„œê°€ ë°”ë€Œì—ˆìœ¼ë‚˜ íƒ€ì… ì²´ì»¤ëŠ” ì •ìƒìœ¼ë¡œ ì¸ì‹(stringì´ë¯€ë¡œ)
- string íƒ€ì…ì´ ë‚¨ìš©ëœ ì½”ë“œë¥¼ â€œë¬¸ìì—´ì„ ë‚¨ë°œí•˜ì—¬ ì„ ì–¸ë˜ì—ˆë‹¤(stringly typed)ë¼ê³  í‘œí˜„.

e.g : íƒ€ì…ì˜ ë²”ìœ„ë¥¼ ì¢íˆëŠ” ë°©ë²• ì‚¬ìš©

```tsx
type RecordingType = "studio" | "live";

interface Album {
  artist: string;
  title: string;
  releaseDate: Date;
  recordingType: RecordingType;
}
```

- recordingType í•„ë“œë¥¼ â€˜liveâ€™, â€˜studioâ€™ ì˜ ìœ ë‹ˆì˜¨ íƒ€ì… ì •ì˜
- releaseDateëŠ” Date íƒ€ì… ì‚¬ìš©

e.g : ì˜¤ë¥˜ë¥¼ ë” ì„¸ë°€í•˜ê²Œ ì¡ì•„ë‚´ê²Œ ëœ ì½”ë“œ

```tsx
const kindOfBlue: Album = {
  artist: "Miles Davis",
  title: "Kind of Blue",
  releaseDate: new Date("1959-08-17"),
  recordingType: "Studio",
  //Error - Type '"Studio"' is not assignable to type 'RecordingType'.
  //Did you mean '"studio"'?
};
```

**string íƒ€ì…ì„ ì¢í˜”ì„ ë•Œ ì–»ëŠ” ì¥ì ë“¤**

1. íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•¨ìœ¼ë¡œì¨ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ê°’ì´ ì „ë‹¬ë˜ì–´ë„ íƒ€ì… ì •ë³´ê°€ ìœ ì§€ë¨
2. íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ê³  í•´ë‹¹ íƒ€ì…ì˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•˜ëŠ” ì£¼ì„ì„ ë¶™ì—¬ ë„£ì„ ìˆ˜ ìˆìŒ.

   ```tsx
   /** ì´ ë…¹ìŒì€ ì–´ë–¤ í™˜ê²½ì—ì„œ ì´ë£¨ì–´ ì¡ŒëŠ”ì§€? */
   type RecordingType = "live" | "studio";
   ```

3. keyof ì—°ì‚°ìë¡œ ë”ìš± ì„¸ë°€í•˜ê²Œ ê°ì²´ì˜ ì†ì„± ì²´í¬ê°€ ê°€ëŠ¥í•¨.

e.g : ì–´ë–¤ ë°°ì—´ì—ì„œ í•œ í•„ë“œì˜ ê°’ë§Œ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•œë‹¤ê³  ê°€ì • (ì‹¤ì œ ì–¸ë”ìŠ¤ì½”ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” pluckì´ë¼ëŠ” í•¨ìˆ˜ê°€ ìˆìŒ)

```tsx
function pluck(records, key) {
	return records.map(r => r[key);
}
```

e.g: pluck í•¨ìˆ˜ì˜ ì‹œê·¸ë‹ˆì²˜ ì˜ˆì œ

```tsx
function pluck(records: any[], key: string): any[] {
  return records.map((r) => r[key]);
}
```

- íƒ€ì… ì²´í¬ê°€ ë˜ê¸´ í•˜ì§€ë§Œ, any íƒ€ì…ì´ ìˆì–´ì„œ ì •ë°€í•˜ì§€ ëª»í•¨.
- íŠ¹íˆ ë°˜í™˜ê°’ì— anyë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¢‹ì§€ ì•Šì€ ì„¤ê³„.

e.g : ì œë„ˆë¦­ íƒ€ì…ì„ ë„ì…í•˜ì—¬ ê°œì„ 

```tsx
function pluck<T>(records: T[], key: string): any[] {
  return records.map((r) => r[key]);
  //Error - Element implicitly has an 'any' type because expression of
  // type 'string' can't be used to index type 'unknown'.
  // No index signature with a parameter of type
  // 'string' was found on type 'unknown'.
}
```

- íƒ€ì… ì²´ì»¤ëŠ” keyì˜ íƒ€ì…ì´ stringì´ê¸° ë•Œë¬¸ì— ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ë‹¤ëŠ” ì˜¤ë¥˜ ë°œìƒ.
- Albumì˜ ë°°ì—´ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ë©´ ê¸°ì¡´ì˜ stringíƒ€ì…ì˜ ë„“ì€ ë²”ìœ„ ë°˜ëŒ€ë¡œ, keyëŠ” ë‹¨ ë„¤ ê°œì˜ ê°’(â€artistâ€, â€œtitleâ€, â€œreleaseDateâ€, â€œrecordingTypeâ€) ë§Œì´ ìœ íš¨í•¨.

e.g : keyof Album íƒ€ì…ìœ¼ë¡œ ì–»ê²Œë˜ëŠ” ê²°ê³¼

```tsx
type K = keyof Album;
//"artist" | "title" | "releaseDate" | "recordingType"
```

```tsx
//stringì„ keyOf T ë¡œ ë³€ê²½
function pluck<T>(records: T[], key: keyof T) {
  return records.map((r) => r[key]);
}
```

- ì´ ì½”ë“œëŠ” íƒ€ì… ì²´ì»¤ë¥¼ í†µê³¼í•  ìˆ˜ ìˆìœ¼ë©°, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ë°˜í™˜ íƒ€ì…ì„ ì¶”ë¡ í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ.

```tsx
//íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ê°€ ì¶”ë¡ í•œ pluckì˜ íƒ€ì…
function pluck<T>(records: T[], key: keyof T): T[keyof T][];
```

- T[keyof T]ëŠ” Tê°ì²´ ë‚´ì˜ ê°€ëŠ¥í•œ ëª¨ë“  ê°’ì˜ íƒ€ì…ì„.

ê·¸ëŸ°ë° keyì˜ ê°’ìœ¼ë¡œ í•˜ë‚˜ì˜ ë¬¸ìì—´ì„ ë„£ê²Œ ë˜ë©´, ê·¸ ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ì–´ì„œ ì ì ˆí•œ íƒ€ì…ì´ë¼ê³  ë³´ê¸° ì–´ë ¤ì›€.

```tsx
const releaseDates = pluck(albums, "releaseDate"); //íƒ€ì…ì´ (string | Date)[]
```

- releaseDatesì˜ íƒ€ì…ì€ (string | Date)[]ê°€ ì•„ë‹ˆë¼ Date[]ì´ì–´ì•¼ í•¨.
- keyof TëŠ” stringì— ë¹„í•˜ë©´ í›¨ì”¬ ë²”ìœ„ê°€ ì¢ê¸°ëŠ” í•˜ì§€ë§Œ ê·¸ë˜ë„ ì—¬ì „íˆ ë„“ìŒ.

e.g : ë²”ìœ„ë¥¼ ë” ì¢íˆê¸° ìœ„í•´ keyof Tì˜ ë¶€ë¶„ ì§‘í•©(ì•„ë§ˆë„ ë‹¨ì¼ ê°’)ìœ¼ë¡œ ë‘ ë²ˆì§¸ ì œë„ˆë¦­ ë§¤ê°œë³€ìˆ˜ë¥¼ ë„ì…í•´ì•¼í•¨

```tsx
function plck<T, K extends keyof T>(records: T[], key: K): T[K][] {
  return records.map((r) => r[key]);
}
```

e.g: ì™„ë²½í•´ì§„ íƒ€ì… ì‹œê·¸ë‹ˆì²˜

```tsx
pluck(albums, "releaseDate"); // íƒ€ì…ì´ Date[]
pluck(albums, "artist"); //íƒ€ì…ì´ string[]
pluck(albums, "recordingType"); //íƒ€ì…ì´ RecordingType[]
//Error - "recordingDate"í˜•ì‹ ì¸ìˆ˜ëŠ” í• ë‹¹ë  ìˆ˜ ì—†ìŒ.
```

## ìš”ì•½

- ë¬¸ìì—´ì„ ë‚¨ë°œí•˜ì—¬ ì„ ì–¸ëœ ì½”ë“œë¥¼ í”¼í• ê²ƒ. ëª¨ë“  ë¬¸ìì—´ì„ í• ë‹¹í•  ìˆ˜ ìˆëŠ” stringíƒ€ì… ë³´ë‹¤ëŠ” ë” êµ¬ì²´ì ì¸ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ
- ë³€ìˆ˜ì˜ ë²”ìœ„ë¥¼ ë³´ë‹¤ ì •í™•í•˜ê²Œ í‘œí˜„í•˜ê³  ì‹¶ë‹¤ë©´ string íƒ€ì…ë³´ë‹¤ëŠ” ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì…ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•˜ë©´ ë¨. íƒ€ì… ì²´í¬ë¥¼ ë” ì—„ê²©íˆ í•˜ê³  ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŒ.
- ê°ì²´ì˜ ì†ì„± ì´ë¦„ì„ í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì„ ë•ŒëŠ” stringë³´ë‹¤ëŠ” keyof Të¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ìŒ.

## 34 ë¶€ì •í™•í•œ íƒ€ì…ë³´ë‹¤ëŠ” ë¯¸ì™„ì„± íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸°

- íƒ€ì… ì„ ì–¸ì˜ ì •ë°€ë„ë¥¼ ë†’ì´ëŠ” ì¼ì—ëŠ” ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼í•¨.
- ì‹¤ìˆ˜ê°€ ë°œìƒí•˜ê¸° ì‰½ê³  ì˜ëª»ëœ íƒ€ì…ì€ ì°¨ë¼ë¦¬ ì—†ëŠ” ê²ƒ ë³´ë‹¤ ëª»í•  ìˆ˜ ìˆê¸° ë•Œë¬¸.

e.g GeoJSONí˜•ì‹ì˜ íƒ€ì… ì„ ì–¸ì„ ì‘ì„±í•œë‹¤ê³  ê°€ì •.

```tsx
interface Point {
  type: "Point";
  coordinates: number[];
}

interface LineString {
  type: "LineString";
  coordinates: number[][];
}

interface Polygon {
  type: "Polygon";
  coordinates: number[][][];
}

type Geometry = Point | LineString | Polygon;
```

- í° ë¬¸ì œëŠ” ì—†ìœ¼ë‚˜ number[]ê°€ ì•½ê°„ ì¶”ìƒì .
- ì—¬ê¸°ì„œ number[]ëŠ” ê²½ë„ì™€ ìœ„ë„ë¥¼ ë‚˜íƒ€ë‚´ë¯€ë¡œ íŠœí”Œíƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•˜ëŠ”ê²Œ ë‚˜ìŒ.

e.g : íŠœí”Œ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸

```tsx
type GeoPosition = [number, number];
interface Point {
  type: "Point";
  coordinates: GeoPosition;
}
```

- íƒ€ì…ì„ ë” êµ¬ì²´ì ìœ¼ë¡œ ê°œì„ í–ˆê¸° ë•Œë¬¸ì— ë” ë‚˜ì€ ì½”ë“œê°€ ë˜ì—ˆìŒ. ê·¸ëŸ¬ë‚˜
- ì½”ë“œì—ëŠ” ìœ„ë„ì™€ ê²½ë„ë§Œ ëª…ì‹œí•˜ì˜€ìœ¼ë‚˜ GeoJSONì˜ ìœ„ì¹˜ì •ë³´ì—ëŠ” ì„¸ ë²ˆì§¸ ìš”ì†Œì¸ ê³ ë„ê°€ ìˆì„ ìˆ˜ ìˆìŒ.
- ê²°ê³¼ì ìœ¼ë¡œ íƒ€ì… ì„ ì–¸ì„ ì„¸ë°€í•˜ê²Œ ë§Œë“¤ê³ ì í–ˆìœ¼ë‚˜ ì‹œë„ê°€ ë„ˆë¬´ ê³¼í–ˆê³ , ì˜¤íˆë ¤ íƒ€ì…ì´ ë¶€ì •í™•í•´ì§.
- í˜„ì¬ì˜ íƒ€ì…ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ ì‚¬ìš©ìë“¤ì€ íƒ€ì… ë‹¨ì–¸ë¬¸ì„ ë„ì…í•˜ê±°ë‚˜ as anyë¥¼ ì¶”ê°€í•´ì„œ íƒ€ì… ì²´ì»¤ë¥¼ ì™„ì „íˆ ë¬´ì‹œí•´ì•¼í•¨.

e.g : JSONìœ¼ë¡œ ì •ì˜ëœ Lispì™€ ë¹„ìŠ·í•œ ì–¸ì–´ì˜ íƒ€ì… ì„ ì–¸ì„ ì‘ì„±í•œë‹¤ê³  ê°€ì •

```lisp

["+", 1, 2]  //3
["/", 20, 2] //10
["case", [">", 20, 10], "red", "blue"] //"red"
["rgb", 255, 0, 127] // "#FF007F"
```

ë‹¤ì–‘í•œ ì…ë ¥ê°’ì„ í—ˆìš©í•˜ëŠ” ë™ì‘ì„ ëª¨ë¸ë§

ì…ë ¥ê°’ ì˜ˆì œ

1. ëª¨ë‘ í—ˆìš©
2. ë¬¸ìì—´, ìˆ«ì, ë°°ì—´ í—ˆìš©
3. ë¬¸ìì—´, ìˆ«ì, ì•Œë ¤ì§„ í•¨ìˆ˜ ì´ë¦„ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë°°ì—´ í—ˆìš©
4. ê° í•¨ìˆ˜ê°€ ë°›ëŠ” ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ê°€ ì •í™•í•œì§€ í™•ì¸
5. ê° í•¨ìˆ˜ê°€ ë°›ëŠ” ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì´ ì •í™•í•œì§€ í™•ì¸

e.g : ì²˜ìŒ 1,2 ì˜µì…˜ì„ í‘œí˜„

```tsx
type Expression1 = any;
type Expression2 = number | string | any[];
```

e.g : í‘œí˜„ì‹ì˜ ìœ íš¨ì„±ì„ ì²´í¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ ë„ì…

```tsx
const tests: Expression2[] = [
  10,
  "red",
  true, //Error - Type 'boolean' is not assignable to type 'Expression2'.
  ["+", 10, 5],
  ["case", [">", 20, 10], "red", "blue", "green"],
  ["**", 2, 31],
  ["rgb", 255, 128, 64],
  ["rgb", 255, 0, 127, 0],
];
```

e.g : ì •ë°€ë„ë¥¼ í•œ ë‹¨ê³„ ë” ëŒì–´ ì˜¬ë¦¬ê¸° ìœ„í•´ì„œ íŠœí”Œì˜ ì²« ë²ˆì§¸ ìš”ì†Œì— ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì…ì˜ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©

```tsx
type FnName = "+" | "-" | "/" | ">" | "<" | "case" | "rgb";
type CallExpression = [FnName, ...any[]];
type Expression3 = number | string | CallExpression;

const tests: Expression3[] = [
  10,
  "red",
  true, //Error
  ["+", 10, 5],
  ["case", [">", 20, 10], "red", "blue", "green"],
  ["**", 2, 31], //Error
  ["rgb", 255, 128, 64],
];
```

e.g : ë§¤ê°œë³€ìˆ˜ ê°¯ìˆ˜ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ì½”ë“œ êµ¬í˜„

```tsx
type Expression4 = number | string | CallExpression;
type CallExpression = MathCall | CaseCall | RGBCall;

interface MatchCall {
  0: "+" | "-" | "/" | "*" | ">" | "<";
  1: Expression4;
  2: Expression4;
  length: 3;
}

interface CaseCall {
  0: "case";
  1: Expression4;
  2: Expression4;
  3: Expression4;
  length: 4 | 6 | 8 | 10 | 12 | 14 | 16; // ë“±ë“±
}

interface RGBCall {
  0: "rgb";
  1: Expression4;
  2: Expression4;
  3: Expression4;
  length: 4;
}

const tests: Expression4[] = [
  10,
  "red",
  true, //Error
  ["+", 10, 5],
  ["case", [">", 20, 10], "red", "blue", "green"], //Error
  ["**", 2, 31], // Error
  ["rgb", 255, 128, 64],
  ["rgb", 255, 128, 64, 73], //Error
];
```

- ìœ íš¨í•˜ì§€ ì•Šì€ í‘œí˜„ì‹ì—ì„œ ì „ë¶€ ì˜¤ë¥˜ ë°œìƒ.
- ê·¸ëŸ¬ë‚˜ íƒ€ì… ì •ë³´ëŠ” ì •ë°€í•´ì¡Œì„ì§€ëŠ” ëª°ë¼ë„ ì´ì „ ë²„ì „ë³´ë‹¤ ê°œì„ ë˜ì—ˆë‹¤ê³  ë³´ê¸° ì–´ë ¤ì›€.
- ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ë”ìš± ë‚œí•´í•´ì§.

### ìš”ì•½

- íƒ€ì… ì•ˆì •ì„±ì—ì„œ ë¶ˆì¾Œí•œ ê³¨ì§œê¸°ëŠ” í”¼í•´ì•¼í•©ë‹ˆë‹¤. íƒ€ì…ì´ ì—†ëŠ” ê²ƒ ë³´ë‹¤ ì˜ëª»ëœ ê²Œ ë” ë‚˜ì©ë‹ˆë‹¤.
- ì •í™•í•˜ê²Œ íƒ€ì…ì„ ëª¨ë¸ë§ í•  ìˆ˜ ì—†ë‹¤ë©´, ë¶€ì •í™•í•˜ê²Œ ëª¨ë¸ë§í•˜ì§€ ë§ì•„ì•¼í•¨.
- anyì™€ unknownë¥¼ êµ¬ë³„í•´ì„œ ì‚¬ìš©í•´ì•¼í•¨.

## 35 ë°ì´í„°ê°€ ì•„ë‹Œ APIì™€ ëª…ì„¸ë¥¼ ë³´ê³  íƒ€ì… ë§Œë“¤ê¸°

- ì˜ ì„¤ê³„ëœ íƒ€ì…ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì‚¬ìš©ì„ ì¦ê²ê²Œ í•´ ì£¼ëŠ” ë°˜ë©´, ì˜ëª»ëœ íƒ€ì…ì€ ë¹„ê·¹ì„ ë¶ˆëŸ¬ì˜´. (ğŸ˜‰)
- API ëª…ì„¸ë¥¼ ì°¸ê³ í•´ íƒ€ì…ì„ ìƒì„±í•˜ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‚¬ìš©ìê°€ ì‹¤ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆê²Œ ë„ì™€ì¤Œ.
- ë°˜ë©´, ì˜ˆì‹œ ë°ì´í„°ë¥¼ ì°¸ê³ í•´ íƒ€ì…ì„ ìƒì„±í•˜ë©´, ëˆˆì•ì— ìˆëŠ” ë°ì´í„°ë“¤ë§Œ ê³ ë ¤í•˜ê²Œ ë˜ë¯€ë¡œ ì˜ˆê¸°ì¹˜ ì•Šì€ ê³³ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.

e.g : 31ì¥ì—ì„œ Featureì˜ ê²½ê³„ ìƒìë¥¼ ê³„ì‚°í•˜ëŠ” calculateBoundingBoxí•¨ìˆ˜ ì‚¬ìš© ë° ì‹¤ì œ êµ¬í˜„

```tsx
function calculateBoundingBox(f: Feature): BoundingBox | null {
  let box: BoundingBox | null = null;

  const helper = (coords: any[]) => {
    //...
  };

  const { geometry } = f;
  if (geometry) {
    helper(geometry.coordinates);
  }

  return box;
}
```

- Feature íƒ€ì…ì€ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜ëœ ì ì´ ì—†ìŒ.
- 31ì¥ì— ë“±ì¥í•œ focusOnFeature í•¨ìˆ˜ ì˜ˆì œë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í•´ ë³¼ ìˆ˜ ìˆìŒ.
- ê·¸ëŸ¬ë‚˜ GeoJSONëª…ì„¸ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ë” ë‚˜ìŒ.

e.g GeoJSON ì„ ì–¸ ì‚¬ìš©ì‹œ ì—ëŸ¬ ë°œìƒ

```tsx
import { Feature } from "geojson";

function calculateBoundingBox(f: Feature): BoundingBox | null {
  let box: BoundingBox | null = null;

  const helper = (coords: any[]) => {
    //...
  };

  const { geometry } = f;
  if (geometry) {
    helper(geometry.coordinates);
    //Error
    //Geometry í˜•ì‹ì— coordinates ì†ì„±ì´ ì—†ìŒ.
    //GeometryCollection í˜•ì‹ì— coordinates ì†ì„±ì´ ì—†ìŒ
  }
  return box;
}
```

- geometryì— coordinates ì†ì„±ì´ ìˆë‹¤ê³  ê°€ì •í•œ ê²Œ ë¬¸ì œ.
- ì , ì„ , ë‹¤ê°í˜•ì„ í¬í•¨í•œ ë§ì€ ë„í˜•ì—ì„œ ë§ëŠ” ê°œë…. ê·¸ëŸ¬ë‚˜ GeoJSONì€ ë‹¤ì–‘í•œ(heterogeneous)ë„í˜•ì˜ ëª¨ìŒì¸ GeometryCollectionì¼ ìˆ˜ë„ ìˆìŒ.
- ë‹¤ì€ ë„í˜• íƒ€ì…ë“¤ê³¼ ë‹¤ë¥´ê²Œ GeometryCollectionì—ëŠ” coordinatesì†ì„±ì´ ì—†ìŒ.
